# 需求规格说明文档

## 1. 引言

### 1.1 目的

本文档描述了courselearning课程学习系统第三阶段的功能需求和非功能需求。WebWeaver开发小组的第三阶段软件系统实现与验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

课程学习系统courselearning是为XXX教育机构开发的学习网站。开发的目标是帮助学生用户浏览购买使用课程，帮助教师用户创建发布管理课程、发布课件，帮助学生和教师用户发布帖子、讨论课程内容，同时帮助网站经理发放优惠券，处理课程销售相关的日常业务。

通过courselearning课程学习系统的应用，期望为XXX教育机构提高处理销售课程的效率、减少销售员工雇佣成本，提高学生、教师用户的满意度，提高销售额。

### 1.3 参考文献

1）IEEE标准

2）courselearning课程学习系统用例文档V0.1.4

## 2. 总体描述

> 本文档只包括第三阶段的功能

### 2.1 项目前景

#### 2.1.1 背景与机遇

XXX教育机构长期组织学生进行线下的课程学习，但是疫情期间线下授课无法进行，教育机构的正常运行、教师与学生的有效互动受到阻碍，面对众多课程学习网站的兴起，即使疫情得到控制之后，大量学生客户流失。机构希望能通过线上学习网站的应用，能够在便利学生用户学习课程的同时，吸引更多学生用户、教师资源，增强竞争力，提高营业额。

courselearning课程学习网站就是为满足XXX教育机构新的业务发展要求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采取实时通信的方式完成数据交换。

#### 2.1.2 业务需求

BR1：在系统使用3个月后，教师用户、经营人员工作效率提高50%。

BR2：在系统使用6个月后，运营成本要降低10%。

​			范围：人力成本、设备成本。

​			度量：检查平均员工数量和平均10000元销售额的设备成本。

BR3：在系统使用6个月后，销售额度要提高20%。

​			最好情况：40%。

​			最有可能情况：20%。

​			最坏情况：10%。

### 2.2 项目功能

SF1：允许学生、教师用户浏览创建帖子。

SF2：允许学生、教师用户评论帖子、回复评论。

SF3：允许学生、教师用户收到回复通知，促进用户之间的交流讨论。

### 2.3 用户特征

| 用户       | 用户特征 |
| ---------- | -------- |
| 学生用户   |          |
| 教师用户   |          |
| 网站管理员 |          |

### 2.4 约束

CON1：

### 2.5 假设与依赖

## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面 

#### 3.1.2 通信接口

### 3.2 功能需求

#### 3.2.1 发布帖子

##### 3.2.1.1 特征描述

购买了课程的学生用户/创建课程的教师用户可以在课程讨论区发表帖子，帖子的内容包括主题、内容、发表时间、发表用户等信息。

优先级=高

##### 3.2.1.2 刺激/响应序列

刺激：用户输入帖子并点击发布帖子按钮

响应：系统将评论录入数据库中

##### 3.2.1.3 相关功能需求

| post.input | 用户输入帖子并点击发布，系统记录用户输入的信息 |
| ---------- | ---------------------------------------------- |
|            |                                                |

### 3.2.2 评论

##### 3.2.2.1 特征描述

购买了课程的用户/创建课程的教师用户可以回复帖子的内容发表评论。

优先级=高

##### 3.2.2.2 刺激/响应序列

刺激：用户输入评论并点击发布评论按钮

响应：系统将评论录入数据库中

刺激：用户A对用户B帖子进行评论或对B的评论进行回复

响应：系统对B进行提醒



##### 3.2.2.3 相关功能需求

| discussion.input      | 用户输入帖子并点击发布，系统记录用户输入的信息              |
| --------------------- | ----------------------------------------------------------- |
| discussion.sendNotice | 用户A对用户B帖子进行评论或对B的评论进行回复,系统对B进行提醒 |
|                       |                                                             |
|                       |                                                             |

#### 3.2.3查看讨论区 

##### 3.2.3.1 特征描述

购买了课程的⽤户/创建课程的教师⽤户可以在进⼊讨论区后，获取讨论区的帖⼦列表，⽀持按照发表时间和最新回复时间倒序查看。

优先级=中

##### 3.2.3.2 刺激/响应序列

刺激：用户点击查看讨论区

响应：系统跳转到讨论区帖子列表界面

刺激：用户点击其中一条帖子

响应：系统跳转到帖子详情界面

##### 3.2.31.3 相关功能需求

|                          |                                            |
| ------------------------ | ------------------------------------------ |
| discussion.getPostsByCid | 用户点击查看讨论区，系统返回帖子列表       |
| discussion.getPostByPid  | 用户点击查看帖子，系统返回该帖子的详细信息 |

#### 3.2.4查看帖子 

##### 3.2.4.1 特征描述

购买了课程的⽤户/创建课程的教师⽤户可以查看课程讨论区内某⼀个帖⼦的具体内容，包括帖⼦标题、内容、发表时间、发表⽤户以及⼀个按照时间顺序排序的回复列表。每条回复包括内容、发表时间、发表⽤户、针对的评论内容（可选）等信息。

优先级=中

##### 3.2.4.2 刺激/响应序列

刺激：用户点击查看帖子

响应：系统跳转到帖子详情界面

刺激：用户点击其中一条评论

响应：系统跳转到评论的回复详情界面

##### 3.2.4.3 相关功能需求

|                            |                                            |
| -------------------------- | ------------------------------------------ |
| discussion.getCommentByPid | 用户点击查看帖子，系统返回该帖子的评论列表 |
| discussion.getReplyByPid   | 用户点击查看评论，系统返回该评论的回复列表 |


#### 3.2.5查看回帖通知 

##### 3.2.5.1 特征描述

⽤户发表的帖⼦或评论得到回复之后，需要能够及时收到通知。

优先级=中

##### 3.2.5.2 刺激/响应序列

刺激：用户点击查看回帖通知

响应：系统跳转到回帖通知列表界面

刺激：用户点击其中一条回帖通知

响应：系统跳转到帖子详情界面

##### 3.2.5.3 相关功能需求

|                                |                                                    |
| ------------------------------ | -------------------------------------------------- |
| discussion.getReplyByUid       | 用户点击查看回帖通知，系统返回回帖通知列表         |
| discussion.setReplyIsNew2False | 用户点击查看回复后，系统将该回复是否未读属性设为否 |


### 3.3 非功能需求

#### 3.3.1  安全性

safety1：系统应该只允许经过验证和授权的用户访问课程详情界面。  
safety2：系统应该按照用户身份验证用户访问权限：购买了课程的⽤户/创建课程的教师⽤户才能查看课程详情界面并进行一系列操作。

#### 3.3.2  可维护性

Modifiability1：在系统的数据格式发生变化时，系统能够在四人一天内完成。  
Modifiability2：如果有新的帖子或评论发布，要能在十秒内完成更新。 

#### 3.3.3  易用性

Usability1：不需要用户进行使用培训，用户也能使用系统所有功能。  
Usability2：在发布帖子或评论后，可以在十秒内进行更新并通知针对的评论（如果有的话），保证消息的及时性。

#### 3.3.4  可靠性

Reliability1：当10000以内的人同时在线时，系统不崩溃。  
Reliability2：系统崩溃后，已更新保存的数据不会丢失。  
Reliability3：在客户端与服务器通信时，如果网络故障，系统不能出现故障。  
&emsp;Reliability3.1：客户端应该检测故障，并尝试重新连接网络 3 次，每次 15秒；  
&emsp;&emsp;Reliability3.1.1：重新连接后，客户端应该继续之前的工作；  
&emsp;&emsp;Reliability3.1.2：如果重新连接不成功，客户端应该等待 5 分钟后再次尝试重新连接；  
&emsp;&emsp;&emsp;Reliability3.1.2.1：重新连接后，客户端应该继续之前的工作；  
&emsp;&emsp;&emsp;Reliability3.1.2.2：如果重新连接仍然不成功，客户端报警。  

#### 3.3.5  业务规则

BR1：适用（用户编号，目标课程编号）的帖子或评论发布（学生用户已购买该课程）或（教师用户是创建该课程的用户）

#### 3.3.6  约束

IC1：系统要求在网络上分布为一个服务器和多个客户端。

### 3.4  数据需求

#### 3.4.1  数据定义

DR1: 系统需要存储课程论坛帖子详情，各帖子评论与回复及其针对的评论（如果有的话）。   
DR2：系统删除后的帖子与评论详情仍然要继续存储3个月的时间，以保证历史数据显示的正确性。   
DR3：服务器更换时，要确保所有数据的完美移植，保持数据的⼀致性。  
DR4：系统弃用时，需保证用户信息的保密性，防止信息外泄。

#### 3.4.2  默认数据

默认数据用于以下两种情况：  
1) 系统中新增数据时。  
2) 编辑数据时不小心将相关内容清空时。  
&emsp;Default1：课程论坛帖子列表默认为空。  
&emsp;Default2：记录时间默认为当天。  
&emsp;Default3：操作人员ID默认为当前登陆用户。

#### 3.4.3  数据格式要求  

Format1：课程编号必须为6位数字。  
Format2：日期的格式必须是yyyy-MM-dd。  
Format3：每个用户编号应为学工号。  
Format4：用户名不得超过32位字符且只能由数字、字母、下划线组成，区分大小写。  

### 3.5  其他

安装需求  
Install1：在安装系统时，需初始化用户id，⽤户名、课程列表等重要数据。

## 4. 更新记录

| 日期          | 更新者 | 更新内容       |
| ------------- | ------ | -------------- |
| 2021年7月10日 | 黄韫秀 | 3.2.3-5、3.3-5 |
| 2021年7月10日 | 彭大海 | 3.2.1-2        |
|               |        |                |

